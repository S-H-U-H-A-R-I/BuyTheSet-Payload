"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _fsextra = /*#__PURE__*/ _interop_require_default(require("fs-extra"));
const _path = /*#__PURE__*/ _interop_require_default(require("path"));
const _createproject = require("./create-project");
const _packages = require("./packages");
const _templates = require("./templates");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const projectDir = _path.default.resolve(__dirname, './tmp');
describe('createProject', ()=>{
    beforeAll(()=>{
        console.log = jest.fn();
    });
    beforeEach(()=>{
        if (_fsextra.default.existsSync(projectDir)) {
            _fsextra.default.rmdirSync(projectDir, {
                recursive: true
            });
        }
    });
    afterEach(()=>{
        if (_fsextra.default.existsSync(projectDir)) {
            _fsextra.default.rmSync(projectDir, {
                recursive: true
            });
        }
    });
    describe('#createProject', ()=>{
        // eslint-disable-next-line @typescript-eslint/consistent-type-assertions
        const args = {
            _: [
                'project-name'
            ],
            '--db': 'mongodb',
            '--no-deps': true
        };
        const packageManager = 'yarn';
        it('creates starter project', async ()=>{
            const projectName = 'starter-project';
            const template = {
                name: 'blank',
                type: 'starter',
                url: 'https://github.com/payloadcms/payload/templates/blank',
                description: 'Blank Template'
            };
            await (0, _createproject.createProject)({
                cliArgs: args,
                projectName,
                projectDir,
                template,
                packageManager
            });
            const packageJsonPath = _path.default.resolve(projectDir, 'package.json');
            const packageJson = _fsextra.default.readJsonSync(packageJsonPath);
            // Check package name and description
            expect(packageJson.name).toEqual(projectName);
        });
        it('creates plugin template', async ()=>{
            const projectName = 'plugin';
            const template = {
                name: 'plugin',
                type: 'plugin',
                url: 'https://github.com/payloadcms/payload-plugin-template',
                description: 'Template for creating a Payload plugin'
            };
            await (0, _createproject.createProject)({
                cliArgs: args,
                projectName,
                projectDir,
                template,
                packageManager
            });
            const packageJsonPath = _path.default.resolve(projectDir, 'package.json');
            const packageJson = _fsextra.default.readJsonSync(packageJsonPath);
            // Check package name and description
            expect(packageJson.name).toEqual(projectName);
        });
        describe('db adapters and bundlers', ()=>{
            const templates = (0, _templates.getValidTemplates)();
            it.each([
                [
                    'blank',
                    'mongodb',
                    'webpack'
                ],
                [
                    'blank',
                    'postgres',
                    'webpack'
                ],
                [
                    'website',
                    'mongodb',
                    'webpack'
                ],
                [
                    'website',
                    'postgres',
                    'webpack'
                ],
                [
                    'ecommerce',
                    'mongodb',
                    'webpack'
                ],
                [
                    'ecommerce',
                    'postgres',
                    'webpack'
                ]
            ])('update config and deps: %s, %s, %s', async (templateName, db, bundler)=>{
                const projectName = 'starter-project';
                const template = templates.find((t)=>t.name === templateName);
                await (0, _createproject.createProject)({
                    cliArgs: args,
                    projectName,
                    projectDir,
                    template,
                    packageManager,
                    dbDetails: {
                        dbUri: `${db}://localhost:27017/create-project-test`,
                        type: db
                    }
                });
                const dbReplacement = _packages.dbPackages[db];
                const bundlerReplacement = _packages.bundlerPackages[bundler];
                const editorReplacement = _packages.editorPackages['slate'];
                const packageJsonPath = _path.default.resolve(projectDir, 'package.json');
                const packageJson = _fsextra.default.readJsonSync(packageJsonPath);
                // Check deps
                expect(packageJson.dependencies['payload']).toEqual('^2.0.0');
                expect(packageJson.dependencies[dbReplacement.packageName]).toEqual(dbReplacement.version);
                // Should only have one db adapter
                expect(Object.keys(packageJson.dependencies).filter((n)=>n.startsWith('@payloadcms/db-'))).toHaveLength(1);
                expect(packageJson.dependencies[bundlerReplacement.packageName]).toEqual(bundlerReplacement.version);
                expect(packageJson.dependencies[editorReplacement.packageName]).toEqual(editorReplacement.version);
                let payloadConfigPath = _path.default.resolve(projectDir, 'src/payload.config.ts');
                // Website and ecommerce templates have payload.config.ts in src/payload
                if (!_fsextra.default.existsSync(payloadConfigPath)) {
                    payloadConfigPath = _path.default.resolve(projectDir, 'src/payload/payload.config.ts');
                }
                const content = _fsextra.default.readFileSync(payloadConfigPath, 'utf-8');
                // Check payload.config.ts
                expect(content).not.toContain('// database-adapter-import');
                expect(content).toContain(dbReplacement.importReplacement);
                expect(content).not.toContain('// database-adapter-config-start');
                expect(content).not.toContain('// database-adapter-config-end');
                expect(content).toContain(dbReplacement.configReplacement.join('\n'));
                expect(content).not.toContain('// bundler-config-import');
                expect(content).toContain(bundlerReplacement.importReplacement);
                expect(content).not.toContain('// bundler-config');
                expect(content).toContain(bundlerReplacement.configReplacement);
            });
        });
    });
    describe('Templates', ()=>{
        it.todo('Verify that all templates are valid');
    // Loop through all templates.ts that should have replacement comments, and verify that they are present
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9saWIvY3JlYXRlLXByb2plY3Quc3BlYy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZnNlIGZyb20gJ2ZzLWV4dHJhJ1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcbmltcG9ydCB0eXBlIHsgQnVuZGxlclR5cGUsIENsaUFyZ3MsIERiVHlwZSwgUHJvamVjdFRlbXBsYXRlIH0gZnJvbSAnLi4vdHlwZXMnXG5pbXBvcnQgeyBjcmVhdGVQcm9qZWN0IH0gZnJvbSAnLi9jcmVhdGUtcHJvamVjdCdcbmltcG9ydCB7IGJ1bmRsZXJQYWNrYWdlcywgZGJQYWNrYWdlcywgZWRpdG9yUGFja2FnZXMgfSBmcm9tICcuL3BhY2thZ2VzJ1xuaW1wb3J0IGV4cCBmcm9tICdjb25zdGFudHMnXG5pbXBvcnQgeyBnZXRWYWxpZFRlbXBsYXRlcyB9IGZyb20gJy4vdGVtcGxhdGVzJ1xuXG5jb25zdCBwcm9qZWN0RGlyID0gcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgJy4vdG1wJylcbmRlc2NyaWJlKCdjcmVhdGVQcm9qZWN0JywgKCkgPT4ge1xuICBiZWZvcmVBbGwoKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nID0gamVzdC5mbigpXG4gIH0pXG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgaWYgKGZzZS5leGlzdHNTeW5jKHByb2plY3REaXIpKSB7XG4gICAgICBmc2Uucm1kaXJTeW5jKHByb2plY3REaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pXG4gICAgfVxuICB9KVxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIGlmIChmc2UuZXhpc3RzU3luYyhwcm9qZWN0RGlyKSkge1xuICAgICAgZnNlLnJtU3luYyhwcm9qZWN0RGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KVxuICAgIH1cbiAgfSlcblxuICBkZXNjcmliZSgnI2NyZWF0ZVByb2plY3QnLCAoKSA9PiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9jb25zaXN0ZW50LXR5cGUtYXNzZXJ0aW9uc1xuICAgIGNvbnN0IGFyZ3MgPSB7XG4gICAgICBfOiBbJ3Byb2plY3QtbmFtZSddLFxuICAgICAgJy0tZGInOiAnbW9uZ29kYicsXG4gICAgICAnLS1uby1kZXBzJzogdHJ1ZSxcbiAgICB9IGFzIENsaUFyZ3NcbiAgICBjb25zdCBwYWNrYWdlTWFuYWdlciA9ICd5YXJuJ1xuXG4gICAgaXQoJ2NyZWF0ZXMgc3RhcnRlciBwcm9qZWN0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcHJvamVjdE5hbWUgPSAnc3RhcnRlci1wcm9qZWN0J1xuICAgICAgY29uc3QgdGVtcGxhdGU6IFByb2plY3RUZW1wbGF0ZSA9IHtcbiAgICAgICAgbmFtZTogJ2JsYW5rJyxcbiAgICAgICAgdHlwZTogJ3N0YXJ0ZXInLFxuICAgICAgICB1cmw6ICdodHRwczovL2dpdGh1Yi5jb20vcGF5bG9hZGNtcy9wYXlsb2FkL3RlbXBsYXRlcy9ibGFuaycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQmxhbmsgVGVtcGxhdGUnLFxuICAgICAgfVxuICAgICAgYXdhaXQgY3JlYXRlUHJvamVjdCh7XG4gICAgICAgIGNsaUFyZ3M6IGFyZ3MsXG4gICAgICAgIHByb2plY3ROYW1lLFxuICAgICAgICBwcm9qZWN0RGlyLFxuICAgICAgICB0ZW1wbGF0ZSxcbiAgICAgICAgcGFja2FnZU1hbmFnZXIsXG4gICAgICB9KVxuXG4gICAgICBjb25zdCBwYWNrYWdlSnNvblBhdGggPSBwYXRoLnJlc29sdmUocHJvamVjdERpciwgJ3BhY2thZ2UuanNvbicpXG4gICAgICBjb25zdCBwYWNrYWdlSnNvbiA9IGZzZS5yZWFkSnNvblN5bmMocGFja2FnZUpzb25QYXRoKVxuXG4gICAgICAvLyBDaGVjayBwYWNrYWdlIG5hbWUgYW5kIGRlc2NyaXB0aW9uXG4gICAgICBleHBlY3QocGFja2FnZUpzb24ubmFtZSkudG9FcXVhbChwcm9qZWN0TmFtZSlcbiAgICB9KVxuXG4gICAgaXQoJ2NyZWF0ZXMgcGx1Z2luIHRlbXBsYXRlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcHJvamVjdE5hbWUgPSAncGx1Z2luJ1xuICAgICAgY29uc3QgdGVtcGxhdGU6IFByb2plY3RUZW1wbGF0ZSA9IHtcbiAgICAgICAgbmFtZTogJ3BsdWdpbicsXG4gICAgICAgIHR5cGU6ICdwbHVnaW4nLFxuICAgICAgICB1cmw6ICdodHRwczovL2dpdGh1Yi5jb20vcGF5bG9hZGNtcy9wYXlsb2FkLXBsdWdpbi10ZW1wbGF0ZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVGVtcGxhdGUgZm9yIGNyZWF0aW5nIGEgUGF5bG9hZCBwbHVnaW4nLFxuICAgICAgfVxuICAgICAgYXdhaXQgY3JlYXRlUHJvamVjdCh7XG4gICAgICAgIGNsaUFyZ3M6IGFyZ3MsXG4gICAgICAgIHByb2plY3ROYW1lLFxuICAgICAgICBwcm9qZWN0RGlyLFxuICAgICAgICB0ZW1wbGF0ZSxcbiAgICAgICAgcGFja2FnZU1hbmFnZXIsXG4gICAgICB9KVxuXG4gICAgICBjb25zdCBwYWNrYWdlSnNvblBhdGggPSBwYXRoLnJlc29sdmUocHJvamVjdERpciwgJ3BhY2thZ2UuanNvbicpXG4gICAgICBjb25zdCBwYWNrYWdlSnNvbiA9IGZzZS5yZWFkSnNvblN5bmMocGFja2FnZUpzb25QYXRoKVxuXG4gICAgICAvLyBDaGVjayBwYWNrYWdlIG5hbWUgYW5kIGRlc2NyaXB0aW9uXG4gICAgICBleHBlY3QocGFja2FnZUpzb24ubmFtZSkudG9FcXVhbChwcm9qZWN0TmFtZSlcbiAgICB9KVxuXG4gICAgZGVzY3JpYmUoJ2RiIGFkYXB0ZXJzIGFuZCBidW5kbGVycycsICgpID0+IHtcbiAgICAgIGNvbnN0IHRlbXBsYXRlcyA9IGdldFZhbGlkVGVtcGxhdGVzKClcblxuICAgICAgaXQuZWFjaChbXG4gICAgICAgIFsnYmxhbmsnLCAnbW9uZ29kYicsICd3ZWJwYWNrJ10sXG4gICAgICAgIFsnYmxhbmsnLCAncG9zdGdyZXMnLCAnd2VicGFjayddLFxuICAgICAgICBbJ3dlYnNpdGUnLCAnbW9uZ29kYicsICd3ZWJwYWNrJ10sXG4gICAgICAgIFsnd2Vic2l0ZScsICdwb3N0Z3JlcycsICd3ZWJwYWNrJ10sXG4gICAgICAgIFsnZWNvbW1lcmNlJywgJ21vbmdvZGInLCAnd2VicGFjayddLFxuICAgICAgICBbJ2Vjb21tZXJjZScsICdwb3N0Z3JlcycsICd3ZWJwYWNrJ10sXG4gICAgICBdKSgndXBkYXRlIGNvbmZpZyBhbmQgZGVwczogJXMsICVzLCAlcycsIGFzeW5jICh0ZW1wbGF0ZU5hbWUsIGRiLCBidW5kbGVyKSA9PiB7XG4gICAgICAgIGNvbnN0IHByb2plY3ROYW1lID0gJ3N0YXJ0ZXItcHJvamVjdCdcblxuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IHRlbXBsYXRlcy5maW5kKCh0KSA9PiB0Lm5hbWUgPT09IHRlbXBsYXRlTmFtZSlcblxuICAgICAgICBhd2FpdCBjcmVhdGVQcm9qZWN0KHtcbiAgICAgICAgICBjbGlBcmdzOiBhcmdzLFxuICAgICAgICAgIHByb2plY3ROYW1lLFxuICAgICAgICAgIHByb2plY3REaXIsXG4gICAgICAgICAgdGVtcGxhdGUsXG4gICAgICAgICAgcGFja2FnZU1hbmFnZXIsXG4gICAgICAgICAgZGJEZXRhaWxzOiB7XG4gICAgICAgICAgICBkYlVyaTogYCR7ZGJ9Oi8vbG9jYWxob3N0OjI3MDE3L2NyZWF0ZS1wcm9qZWN0LXRlc3RgLFxuICAgICAgICAgICAgdHlwZTogZGIgYXMgRGJUeXBlLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pXG5cbiAgICAgICAgY29uc3QgZGJSZXBsYWNlbWVudCA9IGRiUGFja2FnZXNbZGIgYXMgRGJUeXBlXVxuICAgICAgICBjb25zdCBidW5kbGVyUmVwbGFjZW1lbnQgPSBidW5kbGVyUGFja2FnZXNbYnVuZGxlciBhcyBCdW5kbGVyVHlwZV1cbiAgICAgICAgY29uc3QgZWRpdG9yUmVwbGFjZW1lbnQgPSBlZGl0b3JQYWNrYWdlc1snc2xhdGUnXVxuXG4gICAgICAgIGNvbnN0IHBhY2thZ2VKc29uUGF0aCA9IHBhdGgucmVzb2x2ZShwcm9qZWN0RGlyLCAncGFja2FnZS5qc29uJylcbiAgICAgICAgY29uc3QgcGFja2FnZUpzb24gPSBmc2UucmVhZEpzb25TeW5jKHBhY2thZ2VKc29uUGF0aClcblxuICAgICAgICAvLyBDaGVjayBkZXBzXG4gICAgICAgIGV4cGVjdChwYWNrYWdlSnNvbi5kZXBlbmRlbmNpZXNbJ3BheWxvYWQnXSkudG9FcXVhbCgnXjIuMC4wJylcbiAgICAgICAgZXhwZWN0KHBhY2thZ2VKc29uLmRlcGVuZGVuY2llc1tkYlJlcGxhY2VtZW50LnBhY2thZ2VOYW1lXSkudG9FcXVhbChkYlJlcGxhY2VtZW50LnZlcnNpb24pXG5cbiAgICAgICAgLy8gU2hvdWxkIG9ubHkgaGF2ZSBvbmUgZGIgYWRhcHRlclxuICAgICAgICBleHBlY3QoXG4gICAgICAgICAgT2JqZWN0LmtleXMocGFja2FnZUpzb24uZGVwZW5kZW5jaWVzKS5maWx0ZXIoKG4pID0+IG4uc3RhcnRzV2l0aCgnQHBheWxvYWRjbXMvZGItJykpLFxuICAgICAgICApLnRvSGF2ZUxlbmd0aCgxKVxuXG4gICAgICAgIGV4cGVjdChwYWNrYWdlSnNvbi5kZXBlbmRlbmNpZXNbYnVuZGxlclJlcGxhY2VtZW50LnBhY2thZ2VOYW1lXSkudG9FcXVhbChcbiAgICAgICAgICBidW5kbGVyUmVwbGFjZW1lbnQudmVyc2lvbixcbiAgICAgICAgKVxuICAgICAgICBleHBlY3QocGFja2FnZUpzb24uZGVwZW5kZW5jaWVzW2VkaXRvclJlcGxhY2VtZW50LnBhY2thZ2VOYW1lXSkudG9FcXVhbChcbiAgICAgICAgICBlZGl0b3JSZXBsYWNlbWVudC52ZXJzaW9uLFxuICAgICAgICApXG5cbiAgICAgICAgbGV0IHBheWxvYWRDb25maWdQYXRoID0gcGF0aC5yZXNvbHZlKHByb2plY3REaXIsICdzcmMvcGF5bG9hZC5jb25maWcudHMnKVxuXG4gICAgICAgIC8vIFdlYnNpdGUgYW5kIGVjb21tZXJjZSB0ZW1wbGF0ZXMgaGF2ZSBwYXlsb2FkLmNvbmZpZy50cyBpbiBzcmMvcGF5bG9hZFxuICAgICAgICBpZiAoIWZzZS5leGlzdHNTeW5jKHBheWxvYWRDb25maWdQYXRoKSkge1xuICAgICAgICAgIHBheWxvYWRDb25maWdQYXRoID0gcGF0aC5yZXNvbHZlKHByb2plY3REaXIsICdzcmMvcGF5bG9hZC9wYXlsb2FkLmNvbmZpZy50cycpXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29udGVudCA9IGZzZS5yZWFkRmlsZVN5bmMocGF5bG9hZENvbmZpZ1BhdGgsICd1dGYtOCcpXG5cbiAgICAgICAgLy8gQ2hlY2sgcGF5bG9hZC5jb25maWcudHNcbiAgICAgICAgZXhwZWN0KGNvbnRlbnQpLm5vdC50b0NvbnRhaW4oJy8vIGRhdGFiYXNlLWFkYXB0ZXItaW1wb3J0JylcbiAgICAgICAgZXhwZWN0KGNvbnRlbnQpLnRvQ29udGFpbihkYlJlcGxhY2VtZW50LmltcG9ydFJlcGxhY2VtZW50KVxuXG4gICAgICAgIGV4cGVjdChjb250ZW50KS5ub3QudG9Db250YWluKCcvLyBkYXRhYmFzZS1hZGFwdGVyLWNvbmZpZy1zdGFydCcpXG4gICAgICAgIGV4cGVjdChjb250ZW50KS5ub3QudG9Db250YWluKCcvLyBkYXRhYmFzZS1hZGFwdGVyLWNvbmZpZy1lbmQnKVxuICAgICAgICBleHBlY3QoY29udGVudCkudG9Db250YWluKGRiUmVwbGFjZW1lbnQuY29uZmlnUmVwbGFjZW1lbnQuam9pbignXFxuJykpXG5cbiAgICAgICAgZXhwZWN0KGNvbnRlbnQpLm5vdC50b0NvbnRhaW4oJy8vIGJ1bmRsZXItY29uZmlnLWltcG9ydCcpXG4gICAgICAgIGV4cGVjdChjb250ZW50KS50b0NvbnRhaW4oYnVuZGxlclJlcGxhY2VtZW50LmltcG9ydFJlcGxhY2VtZW50KVxuXG4gICAgICAgIGV4cGVjdChjb250ZW50KS5ub3QudG9Db250YWluKCcvLyBidW5kbGVyLWNvbmZpZycpXG4gICAgICAgIGV4cGVjdChjb250ZW50KS50b0NvbnRhaW4oYnVuZGxlclJlcGxhY2VtZW50LmNvbmZpZ1JlcGxhY2VtZW50KVxuICAgICAgfSlcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCdUZW1wbGF0ZXMnLCAoKSA9PiB7XG4gICAgaXQudG9kbygnVmVyaWZ5IHRoYXQgYWxsIHRlbXBsYXRlcyBhcmUgdmFsaWQnKVxuICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgdGVtcGxhdGVzLnRzIHRoYXQgc2hvdWxkIGhhdmUgcmVwbGFjZW1lbnQgY29tbWVudHMsIGFuZCB2ZXJpZnkgdGhhdCB0aGV5IGFyZSBwcmVzZW50XG4gIH0pXG59KVxuIl0sIm5hbWVzIjpbInByb2plY3REaXIiLCJwYXRoIiwicmVzb2x2ZSIsIl9fZGlybmFtZSIsImRlc2NyaWJlIiwiYmVmb3JlQWxsIiwiY29uc29sZSIsImxvZyIsImplc3QiLCJmbiIsImJlZm9yZUVhY2giLCJmc2UiLCJleGlzdHNTeW5jIiwicm1kaXJTeW5jIiwicmVjdXJzaXZlIiwiYWZ0ZXJFYWNoIiwicm1TeW5jIiwiYXJncyIsIl8iLCJwYWNrYWdlTWFuYWdlciIsIml0IiwicHJvamVjdE5hbWUiLCJ0ZW1wbGF0ZSIsIm5hbWUiLCJ0eXBlIiwidXJsIiwiZGVzY3JpcHRpb24iLCJjcmVhdGVQcm9qZWN0IiwiY2xpQXJncyIsInBhY2thZ2VKc29uUGF0aCIsInBhY2thZ2VKc29uIiwicmVhZEpzb25TeW5jIiwiZXhwZWN0IiwidG9FcXVhbCIsInRlbXBsYXRlcyIsImdldFZhbGlkVGVtcGxhdGVzIiwiZWFjaCIsInRlbXBsYXRlTmFtZSIsImRiIiwiYnVuZGxlciIsImZpbmQiLCJ0IiwiZGJEZXRhaWxzIiwiZGJVcmkiLCJkYlJlcGxhY2VtZW50IiwiZGJQYWNrYWdlcyIsImJ1bmRsZXJSZXBsYWNlbWVudCIsImJ1bmRsZXJQYWNrYWdlcyIsImVkaXRvclJlcGxhY2VtZW50IiwiZWRpdG9yUGFja2FnZXMiLCJkZXBlbmRlbmNpZXMiLCJwYWNrYWdlTmFtZSIsInZlcnNpb24iLCJPYmplY3QiLCJrZXlzIiwiZmlsdGVyIiwibiIsInN0YXJ0c1dpdGgiLCJ0b0hhdmVMZW5ndGgiLCJwYXlsb2FkQ29uZmlnUGF0aCIsImNvbnRlbnQiLCJyZWFkRmlsZVN5bmMiLCJub3QiLCJ0b0NvbnRhaW4iLCJpbXBvcnRSZXBsYWNlbWVudCIsImNvbmZpZ1JlcGxhY2VtZW50Iiwiam9pbiIsInRvZG8iXSwibWFwcGluZ3MiOiI7Ozs7Z0VBQWdCOzZEQUNDOytCQUVhOzBCQUM4QjsyQkFFMUI7Ozs7OztBQUVsQyxNQUFNQSxhQUFhQyxhQUFJLENBQUNDLE9BQU8sQ0FBQ0MsV0FBVztBQUMzQ0MsU0FBUyxpQkFBaUI7SUFDeEJDLFVBQVU7UUFDUkMsUUFBUUMsR0FBRyxHQUFHQyxLQUFLQyxFQUFFO0lBQ3ZCO0lBRUFDLFdBQVc7UUFDVCxJQUFJQyxnQkFBRyxDQUFDQyxVQUFVLENBQUNaLGFBQWE7WUFDOUJXLGdCQUFHLENBQUNFLFNBQVMsQ0FBQ2IsWUFBWTtnQkFBRWMsV0FBVztZQUFLO1FBQzlDO0lBQ0Y7SUFDQUMsVUFBVTtRQUNSLElBQUlKLGdCQUFHLENBQUNDLFVBQVUsQ0FBQ1osYUFBYTtZQUM5QlcsZ0JBQUcsQ0FBQ0ssTUFBTSxDQUFDaEIsWUFBWTtnQkFBRWMsV0FBVztZQUFLO1FBQzNDO0lBQ0Y7SUFFQVYsU0FBUyxrQkFBa0I7UUFDekIseUVBQXlFO1FBQ3pFLE1BQU1hLE9BQU87WUFDWEMsR0FBRztnQkFBQzthQUFlO1lBQ25CLFFBQVE7WUFDUixhQUFhO1FBQ2Y7UUFDQSxNQUFNQyxpQkFBaUI7UUFFdkJDLEdBQUcsMkJBQTJCO1lBQzVCLE1BQU1DLGNBQWM7WUFDcEIsTUFBTUMsV0FBNEI7Z0JBQ2hDQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNOQyxLQUFLO2dCQUNMQyxhQUFhO1lBQ2Y7WUFDQSxNQUFNQyxJQUFBQSw0QkFBYSxFQUFDO2dCQUNsQkMsU0FBU1g7Z0JBQ1RJO2dCQUNBckI7Z0JBQ0FzQjtnQkFDQUg7WUFDRjtZQUVBLE1BQU1VLGtCQUFrQjVCLGFBQUksQ0FBQ0Ms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