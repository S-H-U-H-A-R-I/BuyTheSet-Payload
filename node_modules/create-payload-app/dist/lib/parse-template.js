"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "parseTemplate", {
    enumerable: true,
    get: function() {
        return parseTemplate;
    }
});
const _prompts = /*#__PURE__*/ _interop_require_default(require("prompts"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
async function parseTemplate(args, validTemplates) {
    if (args['--template']) {
        const templateName = args['--template'];
        const template = validTemplates.find((t)=>t.name === templateName);
        if (!template) throw new Error('Invalid template given');
        return template;
    }
    const response = await (0, _prompts.default)({
        name: 'value',
        choices: validTemplates.map((p)=>{
            return {
                description: p.description,
                title: p.name,
                value: p.name
            };
        }),
        message: 'Choose project template',
        type: 'select',
        validate: (value)=>!!value.length
    }, {
        onCancel: ()=>{
            process.exit(0);
        }
    });
    const template = validTemplates.find((t)=>t.name === response.value);
    if (!template) throw new Error('Template is undefined');
    return template;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9saWIvcGFyc2UtdGVtcGxhdGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHByb21wdHMgZnJvbSAncHJvbXB0cydcblxuaW1wb3J0IHR5cGUgeyBDbGlBcmdzLCBQcm9qZWN0VGVtcGxhdGUgfSBmcm9tICcuLi90eXBlcydcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBhcnNlVGVtcGxhdGUoXG4gIGFyZ3M6IENsaUFyZ3MsXG4gIHZhbGlkVGVtcGxhdGVzOiBQcm9qZWN0VGVtcGxhdGVbXSxcbik6IFByb21pc2U8UHJvamVjdFRlbXBsYXRlPiB7XG4gIGlmIChhcmdzWyctLXRlbXBsYXRlJ10pIHtcbiAgICBjb25zdCB0ZW1wbGF0ZU5hbWUgPSBhcmdzWyctLXRlbXBsYXRlJ11cbiAgICBjb25zdCB0ZW1wbGF0ZSA9IHZhbGlkVGVtcGxhdGVzLmZpbmQoKHQpID0+IHQubmFtZSA9PT0gdGVtcGxhdGVOYW1lKVxuICAgIGlmICghdGVtcGxhdGUpIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB0ZW1wbGF0ZSBnaXZlbicpXG4gICAgcmV0dXJuIHRlbXBsYXRlXG4gIH1cblxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHByb21wdHMoXG4gICAge1xuICAgICAgbmFtZTogJ3ZhbHVlJyxcbiAgICAgIGNob2ljZXM6IHZhbGlkVGVtcGxhdGVzLm1hcCgocCkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGRlc2NyaXB0aW9uOiBwLmRlc2NyaXB0aW9uLFxuICAgICAgICAgIHRpdGxlOiBwLm5hbWUsXG4gICAgICAgICAgdmFsdWU6IHAubmFtZSxcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgICBtZXNzYWdlOiAnQ2hvb3NlIHByb2plY3QgdGVtcGxhdGUnLFxuICAgICAgdHlwZTogJ3NlbGVjdCcsXG4gICAgICB2YWxpZGF0ZTogKHZhbHVlOiBzdHJpbmcpID0+ICEhdmFsdWUubGVuZ3RoLFxuICAgIH0sXG4gICAge1xuICAgICAgb25DYW5jZWw6ICgpID0+IHtcbiAgICAgICAgcHJvY2Vzcy5leGl0KDApXG4gICAgICB9LFxuICAgIH0sXG4gIClcblxuICBjb25zdCB0ZW1wbGF0ZSA9IHZhbGlkVGVtcGxhdGVzLmZpbmQoKHQpID0+IHQubmFtZSA9PT0gcmVzcG9uc2UudmFsdWUpXG4gIGlmICghdGVtcGxhdGUpIHRocm93IG5ldyBFcnJvcignVGVtcGxhdGUgaXMgdW5kZWZpbmVkJylcblxuICByZXR1cm4gdGVtcGxhdGVcbn1cbiJdLCJuYW1lcyI6WyJwYXJzZVRlbXBsYXRlIiwiYXJncyIsInZhbGlkVGVtcGxhdGVzIiwidGVtcGxhdGVOYW1lIiwidGVtcGxhdGUiLCJmaW5kIiwidCIsIm5hbWUiLCJFcnJvciIsInJlc3BvbnNlIiwicHJvbXB0cyIsImNob2ljZXMiLCJtYXAiLCJwIiwiZGVzY3JpcHRpb24iLCJ0aXRsZSIsInZhbHVlIiwibWVzc2FnZSIsInR5cGUiLCJ2YWxpZGF0ZSIsImxlbmd0aCIsIm9uQ2FuY2VsIiwicHJvY2VzcyIsImV4aXQiXSwibWFwcGluZ3MiOiI7Ozs7K0JBSXNCQTs7O2VBQUFBOzs7Z0VBSkY7Ozs7OztBQUliLGVBQWVBLGNBQ3BCQyxJQUFhLEVBQ2JDLGNBQWlDO0lBRWpDLElBQUlELElBQUksQ0FBQyxhQUFhLEVBQUU7UUFDdEIsTUFBTUUsZUFBZUYsSUFBSSxDQUFDLGFBQWE7UUFDdkMsTUFBTUcsV0FBV0YsZUFBZUcsSUFBSSxDQUFDLENBQUNDLElBQU1BLEVBQUVDLElBQUksS0FBS0o7UUFDdkQsSUFBSSxDQUFDQyxVQUFVLE1BQU0sSUFBSUksTUFBTTtRQUMvQixPQUFPSjtJQUNUO0lBRUEsTUFBTUssV0FBVyxNQUFNQyxJQUFBQSxnQkFBTyxFQUM1QjtRQUNFSCxNQUFNO1FBQ05JLFNBQVNULGVBQWVVLEdBQUcsQ0FBQyxDQUFDQztZQUMzQixPQUFPO2dCQUNMQyxhQUFhRCxFQUFFQyxXQUFXO2dCQUMxQkMsT0FBT0YsRUFBRU4sSUFBSTtnQkFDYlMsT0FBT0gsRUFBRU4sSUFBSTtZQUNmO1FBQ0Y7UUFDQVUsU0FBUztRQUNUQyxNQUFNO1FBQ05DLFVBQVUsQ0FBQ0gsUUFBa0IsQ0FBQyxDQUFDQSxNQUFNSSxNQUFNO0lBQzdDLEdBQ0E7UUFDRUMsVUFBVTtZQUNSQyxRQUFRQyxJQUFJLENBQUM7UUFDZjtJQUNGO0lBR0YsTUFBTW5CLFdBQVdGLGVBQWVHLElBQUksQ0FBQyxDQUFDQyxJQUFNQSxFQUFFQyxJQUFJLEtBQUtFLFNBQVNPLEtBQUs7SUFDckUsSUFBSSxDQUFDWixVQUFVLE1BQU0sSUFBSUksTUFBTTtJQUUvQixPQUFPSjtBQUNUIn0=